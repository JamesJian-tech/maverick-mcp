# Docker Compose Override Configuration Example
# Copy this file to docker-compose.override.yml and customize for your local environment
# This file will override settings in docker-compose.yml without modifying the main file

services:
  backend:
    # Development mode with hot reload
    command: python -m maverick_mcp.api.server --transport sse --host 0.0.0.0 --port 8003 --reload
    environment:
      # Override for development
      - ENVIRONMENT=development
      - LOG_LEVEL=debug
      - API_DEBUG=true
      
      # Add any additional API keys you want to test
      # - OPENROUTER_API_KEY=your_key_here
      # - EXA_API_KEY=your_key_here
      # - TAVILY_API_KEY=your_key_here
      
      # Performance tuning
      - CACHE_ENABLED=true
      - CACHE_TTL_SECONDS=3600
      
      # Research agent configuration
      - RESEARCH_TIMEOUT_SECONDS=120
      - PARALLEL_AGENTS_MAX=6
      - CONFIDENCE_THRESHOLD=0.85
    
    # Mount additional volumes for development
    volumes:
      - ./tests:/app/tests
      - ./scripts:/app/scripts
      - ./examples:/app/examples
      - ./tools:/app/tools
      
    # Enable stdin and tty for interactive debugging
    stdin_open: true
    tty: true

  # Optional: Add pgAdmin for database management
  # pgadmin:
  #   image: dpage/pgadmin4:latest
  #   environment:
  #     - PGADMIN_DEFAULT_EMAIL=admin@maverick.local
  #     - PGADMIN_DEFAULT_PASSWORD=admin
  #   ports:
  #     - "5050:80"
  #   depends_on:
  #     - postgres

  # Optional: Add Redis Commander for cache inspection
  # redis-commander:
  #   image: rediscommander/redis-commander:latest
  #   environment:
  #     - REDIS_HOSTS=local:redis:6379
  #   ports:
  #     - "8081:8081"
  #   depends_on:
  #     - redis